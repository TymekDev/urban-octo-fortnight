Assumptions:
  - Storage JSON is not malformed. In other words, it does not contain illegal or missing data.
  - You cannot upgrade a factory past level 5.
